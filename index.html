<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>douyuyqk.m3u</title>
    <style>
        /* 只保证内容和本地打开.m3u文件一样：等宽字体、保留换行 */
        body {
            margin: 0;
            padding: 10px;
            font-family: 'Courier New', Courier, monospace; /* 本地打开.m3u常用的等宽字体 */
            white-space: pre-wrap; /* 完全保留文件里的换行、空格，和原文件一致 */
            background: #fff;
            color: #000;
        }
    </style>
</head>
<body>
    <!-- 这里会显示.m3u的内容，初始是空的，JS加载后填充 -->
    <div id="m3uContent"></div>

    <script>
        // 只做一件事：加载.m3u内容，显示出来，没任何多余逻辑
        fetch('config.json')
            .then(res => res.json()) // 读.m3u的地址
            .then(config => fetch(config.m3uUrl)) // 用地址读.m3u文件
            .then(m3uRes => m3uRes.text()) // 把.m3u当成纯文字读
            .then(content => {
                document.getElementById('m3uContent').textContent = content; // 把内容显示在页面上
            })
            .catch(() => {
                // 万一加载失败，只显示简单提示，不搞复杂样式
                document.getElementById('m3uContent').textContent = "加载失败，请检查.m3u文件地址是否有效";
            });
    </script>
</body>
</html>